(function(){var t=function(t,o){function r(){this.constructor=t}for(var n in o)e.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t},e={}.hasOwnProperty;Strava.module("Strava.Reports"),Strava.Reports.Action=function(e){function o(t,e){this.athlete_id=t,this.category=e,this.selector=".follow-action",o.__super__.constructor.call(this)}return t(o,e),o.prototype.enter=function(){},o.prototype.handleCancel=function(){},o.prototype.execute=function(t){return this.showBox(t),jQuery(".report").remove()},o.prototype.showBox=function(t){var e,o;return e=jQuery(this.template({})),jQuery("body").append(e),o=function(o){return function(){return o.$document().one("click",function(){return o.handleCancel(t),e.remove()})}}(this),setTimeout(o,0),e.click(function(){return!1}),e.find("a.cancel").click(function(o){return function(){return o.handleCancel(t),e.remove(),!1}}(this))},o.prototype.submitPost=function(){return jQuery.ajax({type:"POST",url:"/athletes/"+this.athlete_id+"/report",data:{category:this.category}})},o}(Backbone.View),Strava.Reports.FormSuspiciousAction=function(e){function o(t,e){o.__super__.constructor.call(this,t,e),this.createTemplate("#reported-suspicious-lightbox"),this.submitPost()}return t(o,e),o}(Strava.Reports.Action),Strava.Reports.FormFakeAction=function(e){function o(t,e){o.__super__.constructor.call(this,t,e),this.createTemplate("#reported-fake-lightbox"),this.submitPost()}return t(o,e),o}(Strava.Reports.Action)}).call(this);